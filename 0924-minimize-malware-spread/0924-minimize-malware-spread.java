class Solution {
    public int minMalwareSpread(int[][] graph, int[] initial) {
        Arrays.sort(initial);
        int n = graph.length, result = initial[0], max = 0;
        boolean[] init = new boolean[n];
        for (int i : initial)
            init[i] = true;
        for (int i : initial) {
            init[i] = false;
            int count = dfs(graph, i, new boolean[n], init);
            if (count > max) {
                max = count;
                result = i;
            }
            init[i] = true;
        }
        return result;
    }
    
    public int dfs(int[][] graph, int i, boolean[] visited, boolean[] init) {
        if (init[i])
            return 0;
        visited[i] = true;
        int count = 1;
        for (int j = 0; j < graph[i].length; j++) {
            if (!visited[j] && graph[i][j] == 1) {
                int c = dfs(graph, j, visited, init);
                if (c == 0)
                    return 0;
                count += c;
            }
        }
        return count;
    }
}